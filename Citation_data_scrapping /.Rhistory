install.packages('RSelenium')
require(RSelenium)
remDr <- remoteDriver(remoteServerAddr = "localhost"
, port = 4445L
, browserName = "safari")
remDr$open()
remDr <- remoteDriver(browserName = "safari")
remDr$open()
browserName = "safari")
remDr <- remoteDriver()
remDr$open()
remDr <- remoteDriver(remoteServerAddr = "localhost"
, port = 4445L
, browserName = "safari")
remDr$open()
remDr <- remoteDriver(remoteServerAddr = "localhost"
, port = 4445L
, browserName = "safari")
remDr$open()
require(RSelenium)
remDr <- remoteDriver(remoteServerAddr = "localhost"
, port = 4445L
, browserName = "safari")
remDr$open()
remDr <- remoteDriver(browserName = "safari")
remDr$open()
remDr <- remoteDriver(browserName = "safari")
remDr$open()
require(RSelenium)
remDr <- remoteDriver(port=5556)
remDr$open()
remDr$open()
remDr <- remoteDriver(port=5556)
remDr$open()
remDr$navigate("http://www.webofknowledge.com")
inputEle<-remDr$findElement(using='class', value = 'search-criticia-input')
inputEle<-remDr$findElement(using='id', value = 'container(input1)')
inputEle$getElementAttribute('class')
inputEle$getElementAttribute('type')
inputEle<-remDr$findElement(using='id', value = 'value(input1)')
inputEle$getElementAttribute('type')
inputEle$getElementAttribute('class')
inputEle$sendKeysToElement(list('Smith'))
inputEle$sendKeysToElement(list('David'))
inputEle$sendKeysToElement(list('David'),key="enter")
inputEle$sendKeysToElement(list('David',key="enter"))
dropEle <- remDr$findElement(using='id', value= 's2id_select1')
remDr$switchToFrame(dropEle)
# change audi to whatever your option value is
option <- remDr$findElement(using = 'xpath', "//*/option[@value = 'DOI']")
option$clickElement()
option <- remDr$findElement(using = 'id', "//*/select2-chosen-1[@value = 'DOI']")
option$clickElement()
dropEle.type()
dropEle$getElementAttribute('type')
dropEle$getElementAttribute('class')
dropEle <- remDr$findElement(using='id', value= 'select2-chosen-1')
dropEle$getElementAttribute('class')
dropEle$clickElement()
doiEle <- dropEle$findElement(using='id', value='select2-result-label-255')
doiEle$clickElement()
doiEle <- remDr$findElement(using='id', value='select2-result-label-255')
doiEle$clickElement()
doiEle <- remDr$findElement(using='id', value='select2-result-label-273')
doiEle$clickElement()
dropEle$getElementAttribute('class')
remDr$sendKeysToActiveElement(list(key = 'tab'))
dropEle <- remDr$findElement(using='id', value= 'select2-chosen-1')
dropEle$getElementAttribute('class')
dropEle$clickElement()
remDr$sendKeysToElement(list(key = 'tab'))
dropEle$sendKeysToElement(list(key = 'tab'))
dropEle$sendKeysToElement(list(key = 'tab'))
dropEle$clickElement()
dropEle$sendKeysToActiveElement(list(key = 'tab'))
dropEle$sendKeysToElement(list(key = 'down'))
dropEle$getElementAttribute('class')
dropEle <- remDr$findElement(using='id', value= 'select2-result-1')
chosen
dropEle <- remDr$findElement(using='id', value= 'select2-chosen-1')
dropEle$getElementAttribute('class')
dropEle$clickElement()
dropEle$clickElement()
doiEle <- dropEle$findElement(using='id', value='select2-result-1')
doiEle <- remDr$findElement(using='id', value='select2-result-1')
doiEle <- remDr$findElement(using='id', value='select2-results-1')
doiEle <- dropEle$findElement(using='id', value='select2-results-1')
doiEle <- dropEle$findElement(using='id', value='select2-result-label-273')
doiEle$findChildElement(using='id', value = 'select2-result-label-273')
doiEle <- dropEle$findElement(using='id', value='select2-result-1')
doiEle <- dropEle$findElement(using='id', value='select2-results-1')
doiEle$getElementAttribute('type')
c <= doiEle$findChildElement(using='id', value = 'select2-result-label-273')
doiEle
dropEle
doiEle <- remDr$findElement(using='id', value='select2-results-1')
doiEle
dropEle.selectByVisibleText("DOI")
doiEle <- remDr$findElement(using='class', value='select2-result-label')
doiEle$getElementAttribute('type')
doiEle
doiEle <- remDr$findElement(using='class', value='select2-match')
doiEle$getElementAttribute('type')
doiEle
doiEle.clickElement()
doiEle <- remDr$findElement(using='id', value='select2-result-label-273')
dropEle$clickElement()
doiEle<-remDr$findElement(using='id', value='select2-result-label-273')
dropEle$clickElement()
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$clickElement()
dropEle$clickElement()
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
inputEle$sendKeysToElement(list('DASDAS',key="enter"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "ENTER"))
dropEle$sendKeysToElement(list(key = "enter"))
inputEle <- remDr$findElement(using='id', value = 'value(input1)')
inputEle$getElementAttribute('class')
inputEle$sendKeysToElement(list('DASDAS',key="enter"))
resetEle <- remDr$findElement(using='id', value='resetForm')
resetEle$clickElement()
resetEle$getElementAttribute('type')
resetEle$getElementAttribute('class')
resetEle <- remDr$findElement(using='id', value='resetForm')
resetEle$getElementAttribute('class')
resetEle$clickElement()
clearEle <- remDr$findElement(using='id', value='clearIcon1')
resetEle$getElementAttribute('class')
clearEle$getElementAttribute('class')
clearEle$clickElement()
clearEle$clickElement()
inputEle$sendKeysToElement(list('10.1017/S0003055408080039',key="enter"))
inputEle <- remDr$findElement(using='id', value = 'value(input1)')
inputEle$sendKeysToElement(list('10.1017/S0003055408080039',key="enter"))
citationEle <- remDr$findElement(using='class',value='search-results-data-cite' )
citationEle
citationEle.getText()
citationEle$getText()
citationEle$getElementText()
citationEle$getTitle()
result<-citationEle$getElementText()
result
typeof(result)
result[15:18]
unlist(result)
result<-unlist(citationEle$getElementText())
typeof(result)
as.numeric(gsub("([0-9]+).*$",result)
)
regmatches(result, regexpr("[[:digit:]]+", result))
result <- regmatches(result, regexpr("[[:digit:]]+", result))
result
remDr$navigate("http://www.webofknowledge.com")
clearEle <- remDr$findElement(using='id', value='clearIcon1')
clearEle$clickElement()
dropEle <- remDr$findElement(using='id', value= 'select2-chosen-1')
dropEle$getElementAttribute('class')
dropEle$clickElement()
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "enter"))
dropEle <- remDr$findElement(using='id', value= 'select2-chosen-1')
dropEle$getElementText()
chosen <- unlist(dropEle$getElementText())
chosen
chosen == "DOI"
dropEle <- remDr$findElement(using='id', value= 'select2-chosen-1')
chosen <- unlist(dropEle$getElementText())
if (chosen != 'DOI') {
dropEle$clickElement()
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "enter"))
}
chosen <- unlist(dropEle$getElementText())
if (chosen != 'DOI') {
dropEle$clickElement()
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "enter"))
}
dropEle <- remDr$findElement(using='id', value= 'select2-chosen-1')
chosen <- unlist(dropEle$getElementText())
if (chosen != 'DOI') {
dropEle$clickElement()
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "enter"))
}
inputEle <- remDr$findElement(using='id', value = 'value(input1)')
inputEle$sendKeysToElement(list('10.1017/S0003055408080039',key="enter"))
# get citation number:
citationEle <- remDr$findElement(using='class',value='search-results-data-cite')
result<-unlist(citationEle$getElementText())
result <- regmatches(result, regexpr("[[:digit:]]+", result))
result
remDr$navigate("http://www.webofknowledge.com")
#clear:
clearEle <- remDr$findElement(using='id', value='clearIcon1')
clearEle$clickElement()
dropEle <- remDr$findElement(using='id', value= 'select2-chosen-1')
chosen <- unlist(dropEle$getElementText())
if (chosen != 'DOI') {
dropEle$clickElement()
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "enter"))
}
inputEle <- remDr$findElement(using='id', value = 'value(input1)')
inputEle$sendKeysToElement(list('10.1017/S0003055408080039',key="enter"))
# get citation number:
citationEle <- remDr$findElement(using='class',value='search-results-data-cite')
result<-unlist(citationEle$getElementText())
result <- regmatches(result, regexpr("[[:digit:]]+", result))
result
remDr$navigate("http://www.webofknowledge.com")
clearEle <- remDr$findElement(using='id', value='clearIcon1')
clearEle$clickElement()
inputEle <- remDr$findElement(using='id', value = 'value(input1)')
inputEle$sendKeysToElement(list('10.1017/S0003055408080039',key="enter"))
citationEle <- remDr$findElement(using='class',value='search-results-data-cite')
result<-unlist(citationEle$getElementText())
result <- regmatches(result, regexpr("[[:digit:]]+", result))
remDr$navigate("http://www.webofknowledge.com")
#clear:
clearEle <- remDr$findElement(using='id', value='clearIcon1')
clearEle$clickElement()
dropEle <- remDr$findElement(using='id', value= 'select2-chosen-1')
chosen <- unlist(dropEle$getElementText())
if (chosen != 'DOI') {
dropEle$clickElement()
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "down_arrow"))
dropEle$sendKeysToElement(list(key = "enter"))
}
inputEle <- remDr$findElement(using='id', value = 'value(input1)')
inputEle$sendKeysToElement(list('10.1017/S0003055408080155',key="enter"))
# get citation number:
citationEle <- remDr$findElement(using='class',value='search-results-data-cite')
result<-unlist(citationEle$getElementText())
result <- regmatches(result, regexpr("[[:digit:]]+", result))
result
citationEle <-remDr$findElement(using='class',value='search-results-data-cite')
result<-unlist(citationEle$getElementText())
result <- regmatches(result, regexpr("[[:digit:]]+", result))
result
library(RSelenium)
#rd <- rsDriver(port = 4566L, browser = c( "phantomjs"))
remDr <- remoteDriver(port=4444)
#remDr <- rd[["client"]]
remDr$open()
setwd("~/Desktop/School/URAP/Citations/Citation_data_scrapping ")
df <- read.csv('ajps_2ndCheck.csv')
rm(df)
ajps <- read.csv('ajps_2ndCheck.csv')
aj1 <- ajps[1:200,]
aj2 <- ajps[201:401,]
aj3 <- ajps[402:608,]
remDr$navigate("http://www.scholar.google.com")
remDr$navigate("http://www.scholar.google.com")
remDr$navigate("http://www.google.com")
remDr$navigate("http://scholar.google.com")
remDr$navigate("http://scholar.google.com")
inputEle = remDr$findElement(using='id', value = 'gs_hp_box_in')
inputEle$sendKeysToElement(list("What Stops the Torture?",key="enter"))
citationEle <-remDr$findElements(using='class',value='search-results-data-cite')
citationEle
citationEle <-remDr$findElements(using='class',value='gs_fl')
citationEle
citationEle <-remDr$findElement(using='class',value='gs_fl')
citationEle
citationEle <-remDr$findElement(using='class',value='gs_ri')
citationEle
result =unlist(citationEle$getElementText())
result
citationEle <-remDr$findElement(using='class',value='gs_fl')
result =unlist(citationEle$getElementText())
result
citationEle <-remDr$findElement(using='class',value='gs_fl')
result =unlist(citationEle$getElementText())
result
citationEle$getText()
citationEle$getAttribute("textContent")
citationEle <-remDr$findElement(using='class',value='gs_rs')
result =unlist(citationEle$getElementText())
result
citationEle <-remDr$findElement(using='class',value='gs_fl')
result =unlist(citationEle$getElementText())
result
citationEle <-remDr$findElement(using='class',value='gs_a')
result =unlist(citationEle$getElementText())
result
citationEle <-remDr$findElement(using='class',value='gs_fl')
citationEle <-remDr$findElement(By.linkText("Cited by"))
remDr$open()
remDr$navigate("http://scholar.google.com")
inputEle = remDr$findElement(using='id', value = 'gs_hp_box_in')
inputEle$sendKeysToElement(list("What Stops the Torture?",key="enter"))
citationEle <-remDr$findElement(using='class',value='gs_ri')
result =unlist(citationEle$getElementText())
result
citationEle <-remDr$findElement(using='xpath',value='//*[@id="gs_ccl_results"]/div[1]/div[2]/div[3]')
result =unlist(citationEle$getElementText())
result
result =regmatches(result, regexpr("[[:digit:]]+", result))
result
search <- function(input) {
#doi <- as.character(doi)
remDr$navigate("http://scholar.google.com")
inputEle = remDr$findElement(using='id', value = 'gs_hp_box_in')
inputEle$sendKeysToElement(list(input,key="enter"))
# get citation number:
Sys.sleep(2)
citationEle <-remDr$findElements(using='class',value='gs_fl')
if (length(citationEle)<1) {
result ='NA'
} else {
citationEle <-remDr$findElement(using='xpath',value='//*[@id="gs_ccl_results"]/div[1]/div[2]/div[3]')
result =unlist(citationEle$getElementText())
result =regmatches(result, regexpr("[[:digit:]]+", result))
}
return(result)
}
output1 <- lapply(aj1$title, search)
search("Widowhood Effects in Voter Participation")
search("Widowhood Effects in Voter Participation")
ajps <- read.csv('ajps_2ndCheck.csv')
aj1 <- ajps[1:100,]
aj2 <- ajps[101:201,]
aj3 <- ajps[202:303,]
aj4 <- ajps[304:405,]
aj5 <- ajps[406:507,]
aj6 <- ajps[508:608,]
aj1 <- ajps[1:100,]
aj2 <- ajps[101:200,]
aj3 <- ajps[201:300,]
aj4 <- ajps[301:400,]
aj5 <- ajps[401:500,]
aj6 <- ajps[501:608,]
remDr <- remoteDriver(port=4444)
#remDr <- rd[["client"]]
remDr$open()
output1 <- lapply(aj1$title, search)
